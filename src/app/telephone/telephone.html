<div class="container">
  <div class="card shadow mb-4">
    <div class="card-body">
      <table class="table table-striped">
        <tr>

          <th>Id</th>
          <th>Logo</th>
          <th>Nom</th>
          <th>Email</th>
          <th>Description</th>
          <th>Statut</th>
          <th>Prix</th>
          <th>Date Création</th>
          <th>Actions</th>
        </tr>

        @for (telephone of telephones; track telephone.idtel; let index = $index; let nbr = $count; let first = $first;
        let last = $last) {

        <!-- @if(first) {
        <h1>Nombre de téléphones : {{ nbr }}</h1>
        } -->

        <tbody>
          <tr>

            <td>{{ telephone.idtel }}</td>
            <td>
              <img [src]="telephone.logoTel" alt="logo" width="80" height="80">
            </td>
            <td>{{ telephone.nomTel }}</td>
            <td>{{telephone.emailtel}}</td>

            <td>{{ telephone.desTEL }}</td>
            <td>{{telephone.statut.nomSat}}</td>

            <td>{{ telephone.prixTel }} DT</td>
            <td>{{ telephone.dateCreation | date:'dd/MM/yyyy' }}</td>
            <td>
              @if(auth.isAdmin()){
              <a class="btn btn-danger" (click)="supprimerTelephone(telephone)">Supprimer</a>
              }
            </td>

            <td>
              @if(auth.isAdmin()){
              <a class="btn btn-success" [routerLink]="['/updateTelephone', telephone.idtel]">Modifier</a>
              }
            </td>

          </tr>
        </tbody>
        }

        @empty {
        <h1>Aucun téléphone trouvé !</h1>
        }

      </table>
    </div>
  </div>
</div>
